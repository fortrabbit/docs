---
reviewed: 2023-07-28 17:25:38
title: Deployment features on fortrabbit
naviTitle: Features
excerpt: About git push to deploy and some gotchas
lead: The fortrabbit hosting platform provides workflows for automated code deployments. Get an overview of the features and some potential gotchas.
showNext: true
head:
  meta:
    - name: 'keywords'
      content: 'grunt, gulp, browserify, vite, webpack, svn, git, coding, CI/CD, cloud, vcs, add-on, version control'
---

## Get ready

Have a good understanding about [general deployment concepts](/7.deployment/1.intro.md).

## The outline

```plain
1 Local    2 Git provider    3 fortrabbit deploy   4 app environment 
┌─────┐    ┌────────────┐    ┌───────────────┐     ┌──────────────┐
│ Git ├────▶  Git repo  ├────▶  Build steps  ├─────▶   web space  │
└─────┘    └────────────┘    └───────────────┘     └──────────────┘
```

1. You push code changes to your git provider (GitHub)
2. The 'fortrabbit GitHub app' receives Git changes and triggers a deployment
3. The build step pipeline on fortrabbit runs the deployment
4. The build is getting distributed into the web space

## Code VS Content

"Code goes up, content comes down" is the basic principle for most live websites. While development is usually happening in the local development environment, content updates are often done in the production environment directly, for instance when an editor is adding a new blog post.

In many software systems, code and content are separated and do not interfere. A classical PHP project consists of these blocks:

| What                          | Deployment | Alternative   |
| ----------------------------- | ---------: | ------------: |
| Code and dependencies         | Yes        | -             |
| Database contents             | No         | dump          |
| Image uploads and other files | No         | rsync         |

## Code deployment VS direct code access

In addition to deployment, direct code access via [SSH](/6.code-access/3.ssh.md) and [SFTP](/6.code-access/4.sftp.md) is also available. This is useful to sync contents and to debug issues. It can also be used for oldschool code upload.

## What the web storage contains

Please keep in mind, that the Git repo is not a one to one representation of the web storage. After you Git push, first the Git repo will be updated, then changes will be synchronized (overwrite but not delete) to the web storage. So the web storage contains:

1. The latest Git changes synced in
2. Changes done by SFTP & SSH
3. Runtime data like uploads, assets, logs, template fragments …

### Mixing direct code access and deployment

It's generally advised to choose your main deployment method upfront. You can use a deployment workflo or directly access code. Use the workflow that matches your skills and the requirements of the software you are using. In general we advice to work with deployment pipeline, as it is: faster, more secure. It's not black and white either. When working with Git, you often will use some SSH/SFTP in addition — to deploy generated assets and manage user uploads for example.

### Git works only one way

**Git is a one way street here and the only way is up.** You can not `pull` the changes, which are made via SSH or SFTP, from the web storage back into your Git repo. So you can not upload something via SFTP and clone it down later via Git. While this might looks odd at first: this design keeps your Git repo clean of temporary, binary and other blob data. The diagram above visualizes this. Use Git only for code deployment, not to manage all of your Apps runtime data. Separate code - managed in Git - from content - managed via SSH/SFTP.

### Git push overwrite but not deletes per default

When you push new changes via Git to your App Composer will be executed. In addition, user defined scripts in [Composer scripts](https://getcomposer.org/doc/articles/scripts.md)) might also be executed. Resulting of the push and the executions, a temporary file set is generated and subsequently synchronized to your App's web storage. So, when accessing your App via SSH/SFTP, the web storage can contain files which are not in Git.

The strategy applied in the synchronization is:

* Files existing in the temporary file set and existing on the web storage will be overwritten
* Files existing in the temporary file set but not existing on the web storage will be created
* Files not existing in the temporary file set but existing on the web storage will not be touched

### Not all applications work well with Git

Git deployment is great when your App skeleton has clean folder structure with exclude patterns and [Composer](/11.dev-tips/3.composer.md) support. [Laravel](/2.laravel/1.setup.md) and [Symfony](/5.guides/8.symfony.md) are poster-child-level for good Git support. [WordPress](/5.guides/5.wordpress.md) and other CMS are not Git compatible, out-of-the-box. [Craft](/3.craft/1.setup.md) works well with Git and Composer.
