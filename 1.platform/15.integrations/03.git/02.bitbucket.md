---
reviewed: 2025-12-10 15:24:10
title: Bitbucket
navigation.excerpt: Integrate git via Atlassian
lead: Integrate the second most popular Git-as-a-service provider with your fortrabbit workflow.
sidebar: bitbucket
head:
  meta:
    - name: 'keywords'
      content: 'addon, add-on, integrations, integration, API, CI, cloud'
---

::CallOut{alert}
At the time of the writing, there is no fortrabbit Bitbucket app to automatically integrate Bitbucket. Also, this article might be outdated. Get in touch with us if you want this feature or something is not working out.
::

[Bitbucket](https://bitbucket.org?utm_source=fortrabbit), similar to GitHub, is a Git hosting service that offers advanced Git work-flows, such as 'pull requests'. It offers private repos in a free plan. It also offers [paid plans](https://www.atlassian.com/software/bitbucket/pricing) for "growing teams".

## Deployment pipeline

You can use Bitbucket Pipelines to deploy your code to fortrabbit. This involves creating a pipeline that syncs your code to the fortrabbit App using rsync.

### Prerequisites

1. **Generate SSH Key Pair**: You need a dedicated SSH key pair for the pipeline. Generate one locally (e.g. `ssh-keygen -t ed25519 -f bitbucket_deploy_key -C "Bitbucket CI"`).
2. **Add to fortrabbit**: Copy the **Public Key** (`bitbucket_deploy_key.pub`) and add it as a **Deploy Key** in the fortrabbit Dashboard for your App.
3. **Add to Bitbucket**: Copy the **Private Key** (`bitbucket_deploy_key`) and add it to your Bitbucket Repository variables (**Repository settings > Pipelines > Repository variables**) as `SSH_PRIVATE_KEY`.

### Example pipeline

Create or update your `bitbucket-pipelines.yml` file in the root of your repository. The following code is UNTESTED:

```yml
image: alpine:latest

pipelines:
  branches:
    main:
      - step:
          name: Deploy to Production
          script:
            - apk add --no-cache rsync openssh-client
            # Setup SSH agent
            - eval $(ssh-agent -s)
            - echo "$SSH_PRIVATE_KEY" | tr -d '\r' | ssh-add -
            - mkdir -p ~/.ssh
            - chmod 700 ~/.ssh
            
            # Add fortrabbit to known hosts (replace region if necessary)
            - ssh-keyscan -H ssh.{{region}}.frbit.app >> ~/.ssh/known_hosts
            
            # Sync to fortrabbit
            - rsync -av --delete ./ {{app-env-id}}@ssh.{{region}}.frbit.app:
```
