---
title: Key-value store
navigation.excerpt: Database, cache, queue message broker
siblings: Components
lead: A versatile open source software to be used as in-memory data structure store, key-value database, cache or even queue message broker.
sidebar: key-value-store
---

## Booking the key-value store

The key-value store is implemented as an optional component on fortrabbit with various plans differing the available memory. It can be booked and scaled per [app environment](/10.objects/2.app-environment.md).

:DashboardLink{title="Book key-value store" path="/environments/{{app-env-slug}}/settings/components#key-value-store"}

## Scaling key-value store

TODO

## Using the key-value store

Valkey is supported by many PHP frameworks and CMS's out of the box, it's popular among [Laravel](/2.laravel/1.setup.md) developers. For specific integrations check out the install guides and find out how to use it with your favorite framework or CMS.

### Dashboard settings

TODO

### Session handler

If you don't use a framework, configure `session.save_handler` and `session.save_path` in your php.ini to tell phpvalkey where to store the sessions. Make sure to do it very early in your application, before accessing session data.

```php
// Read the secrects you've set in the Dashboard
$secrets = json_decode(file_get_contents($_SERVER["APP_SECRETS"]), true);
$host    = $secrets['CUSTOM']['VALKEY_HOST'];
$port    = $secrets['CUSTOM']['VALKEY_PORT'];
$auth    = $secrets['CUSTOM']['VALKEY_PASSWORD'];

// Change the session handler
ini_set('session.save_handler', 'valkey');
ini_set("session.save_path", "tcp://{$host}:{$port}?persistent=1&timeout=2&auth={$auth}");
```

### Persistent connections

We recommend using persistent connections. Most adapters are configurable with a setting like `persistent: 1`.
