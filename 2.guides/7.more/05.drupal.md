---
title: Drupal guide
reviewed: 2025-12-08 17:40:19
naviTitle: Drupal
navigation.excerpt: A flexible and powerful CMS
lead: Drupal is a free and open-source content management system. Learn how to install and run Drupal on fortrabbit.
# sidebar: drupal
head:
  meta:
    - name: 'keywords'
      content: 'php, install, drupal, cms'
---


::CallOut{alert}
This is work in progress. We are still learning about Drupal. Let us know if something is odd.
::

## Get ready

It's assumed you've already created a new app and chose Drupal in the [software template](/1.platform/03.concepts/05.software-templates.md). If not: You can do so in the fortrabbit dashboard. You should have a [local PHP development environment](/4.integrations/01.local-development/01.intro.md) running on your local machine. Drupal has good backward compatibility and this guide should work for Drupal 9, 10, and 11. We recommend following the [official Drupal installation guide](https://www.drupal.org/docs/installing-drupal) to install Drupal locally first. Here is an idea how to do it with Composer:

```shell
# Create a new Drupal project with Composer
composer create-project drupal/recommended-project my-drupal-site

# Navigate to the project directory
cd my-drupal-site

# Install Drupal via Composer (alternative method)
composer install
```

We recommend to use DDEV for local development. See their [Drupal quick start](https://docs.ddev.com/en/stable/users/quickstart/#drupal-drupal-11).

## Root path

If Drupal was chosen or detected when creating the environment in the dashboard, 'web' was pre-selected as the root path. You can configure the [root path](/1.platform/06.settings/12.root-path.md) in the dashboard.

:BlockLink{title="Change the root path for {{app-env-id}}" path="/environments/{{app-env-id}}/settings/rootpath"}

## MySQL configuration

If Drupal was chosen or detected, required environment variables for the MySQL connection will be pre-populated.

:BlockLink{title="Change the ENV vars for {{app-env-id}}" path="/environments/{{app-env-id}}/env-vars"}

## Deployment

Drupal supports Git and Composer workflows. Deploy via GitHub using our [GitHub integration](/1.platform/05.deployment/02.github-app.md) via `git push`. SSH/SFTP code access is also available too.

### Git ignores

By the time of this writing, it appears that Drupal does not ship with a standard `.gitignore` file. It's suggested to create such a file on the root directory of the project, matching your requirements.

- [drupal.org/project/drupal_cms/issues/3500134](https://www.drupal.org/project/drupal_cms/issues/3500134) - Issue
- [github.com/github/gitignore/blob/main/Drupal.gitignore](https://github.com/github/gitignore/blob/main/Drupal.gitignore) - Example

### Git deployment workflow

1. Set up your local Drupal project with Git
2. Deploy to GitHub
3. Install the [fortrabbit GitHub App](/1.platform/05.deployment/02.github-app.md)
4. Connect your GitHub repository to your fortrabbit app environment
5. Push to deploy automatically

The [build commands](/1.platform/05.deployment/03.build-commands.md) will automatically run `composer install` during deployment when using our Drupal software template.

### Initial deployment steps

1. Create your Drupal project locally
2. Initialize Git and make your initial commit
3. Push your code to your GitHub repository
4. Deploy to fortrabbit via GitHub integration
5. Import your database (see MySQL section below)
6. Run Drupal installation via SSH or upload your database

## Files and uploads

Drupal stores uploaded files in the `sites/default/files` directory by default. For production sites, consider:

### Using rsync for file management

You can use [rsync](/3.dev/20.how-to/rsync.md) to sync files between your local development and fortrabbit:

```shell
# Download files from fortrabbit to local
rsync -av {{app-env-id}}@ssh.{{region}}.frbit.app:web/sites/default/files/ ./web/sites/default/files/

# Upload files from local to fortrabbit
rsync -av ./web/sites/default/files/ {{app-env-id}}@ssh.{{region}}.frbit.app:web/sites/default/files/
```

## Environment variables

When Drupal is detected or chosen, important environment variables for connecting to the database should be pre-configured. Set these environment variables in your fortrabbit dashboard:

:BlockLink{title="Edit ENV vars for {{app-env-id}}" path="/environments/{{app-env-id}}/env-vars/edit"}

### Additional ENV vars

- `DRUPAL_HASH_SALT`: A unique hash salt for your Drupal installation
- `APP_URL_HOST`: Your domain name (automatically set)
- Other custom variables as needed for your modules

## Logs

Check your Drupal logs via the admin interface at `/admin/reports/dblog` or access system logs in the [fortrabbit dashboard](/1.platform/06.settings/25.logs.md).

## Manual database settings

Drupal uses a `settings.php` file to configure database connections. When using our software template, the database configuration is automatically handled via environment variables. Your `web/sites/default/settings.php` should include:

```php
// Database configuration using fortrabbit environment variables
$databases['default']['default'] = [
  'database' => $_ENV['MYSQL_DATABASE'],
  'username' => $_ENV['MYSQL_USER'],
  'password' => $_ENV['MYSQL_PASSWORD'],
  'host' => $_ENV['MYSQL_HOST'],
  'port' => $_ENV['MYSQL_PORT'] ?? '3306',
  'driver' => 'mysql',
  'prefix' => '',
  'collation' => 'utf8mb4_general_ci',
];
```

For your local development setup, you can create a `settings.local.php` file with your local database credentials.
