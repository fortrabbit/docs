---
reviewed: 2025-01-14 09:02:21
title: Deploy Kirby with git and rsync
naviTitle: Git + rsync deployment
navigation.excerpt: Advanced deployment for adventurous users
lead: This is a more advanced yet recommended workflow to deploy Kirby using Git. Kirby has Composer support, so a clean way to deploy it is possible.
sidebar: kirby
siblings: Kirby guides
---

## Get ready

Make sure to read the [Kirby Composer guide](https://getkirby.com/docs/guide/install-guide/composer) from the official Kirby docs. You should have a [local development environment](/3.dev/19.how-to/1.local-development.md) including PHP and Composer running.

## Rundown

1. Initialize Kirby with Composer on your local machine
2. Deploy to fortrabbit using Git and Composer
3. Synchronize contents with rsync

## Install Kirby locally with Composer

```shell
# 1. Create a local (on your computer) Kirby project folder with Composer:
$ composer create-project getkirby/plainkit {{app-env-id}}
```

Note that Kirby offers a "starterkit" (with some demo contents and a theme with some templates) and a "plainkit" with no contents at all (which is used here). Maybe you also have a project running locally and are just looking for ways to deploy that. Continue with the next steps.

### Configure Kirby for git deployment

Open your local Kirby project folder with your text editor or IDE. Open the (hidden) `.gitignore` file at the top level to tell Git to ignore some folders. Add these three ignore rules if not already present:

```shell
# .gitignore

# Kirby itself
/kirby

# Composer dependencies
/vendor

# Stuff you are creating
/content
```

The setting above will also keep the `/content` folder out of Git. This is our opinionated way of doing it. It will help keeping your repo tidy by separating code from content. But you will need to run dedicated rsync commands to deploy and update the "contents" (see below). You can also decide to not touch the `.gitignore` so that you can deploy everything with Git all together. Keep in mind that you can not pull in new contents from the fortrabbit App this way.

At this point you should be able to run the project in your local development environment already. We highly recommend to develop the site locally, use fortrabbit for staging and production.

### Deploy Kirby with Git

<!-- TODO: Be more specific here. -->

See the [git guides](/3.dev/2.deployment/1.intro.md) on how to connect a local repo to the GitHub remote and enable automatic deployment by installing the fortrabbit App with GitHub account.

### Synchronize contents

As mentioned, deployment of code (templates and configuration) and dependencies (Kirby and Composer) is done via Git deployment. Deploying the content is a separate step. We recommend to use rsync to upload or download new contents to and from your remote fortrabbit app environment. See also our [rsync article](/3.dev/rsync.md). On your local computer in the Terminal in the kirby project folder execute:

```shell
# SYNC UP: from local to remote
$ rsync -av ./content {{app-env-id}}@ssh.{{region}}.frbit.app:~
```

It works also the other way around. For example in a case, where you have done some edits online and want those changes to be reflected in your local development environment:

```bash
# SYNC DOWN: from remote to local
$ rsync -av {{app-env-id}}@ssh.{{region}}.frbit.app:content ./
```

You can also use [SFTP](/3.dev/7.code-access/4.sftp.md) to synchronize the `content` folder.
