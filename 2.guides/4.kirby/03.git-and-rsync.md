---
reviewed: 2026-02-22 12:31:38
title: Deploy Kirby with Git and rsync
naviTitle: Git + rsync deployment
navigation.excerpt: Git for code, rsync for content
lead: This is the recommended workflow to deploy Kirby using Git. It's a bit more advanced, but worth the mile when maintaining a project.
figure:
  emoji: ðŸ”—
  text: Code in Git, content in motion.
  color: rgb(120, 150, 180)
  textColor: rgb(36, 58, 86)
  hide: true
sidebar: kirby
---

## Get ready

- Have a [local development environment](/4.integrations/01.local-development/01.intro.md) running.
- Have [Kirby installed locally](/2.guides/4.kirby/01.install.md).
- Have accounts with fortrabbit and GitHub (both free).
- Install the [fortrabbit GitHub app](/1.platform/05.deployment/02.github-app.md) at GitHub.

## Rundown

1. Start Git and integrate with GitHub
2. Connect your GitHub repo with fortrabbit
3. Synchronize contents with rsync

### Configure Kirby for git deployment with rsync

Open the (hidden) `.gitignore` file at the top level of the Kirby project folder. Add these three ignore rules if not already present:

```shell
# .gitignore

# Kirby itself, managed by composer
/kirby

# Composer, managed
/vendor

# To be synced by rsync not Git
# Can also be included, to keep an extra copy
# Will not be deployed (default exclude patterns)
/content
```

This keeps the repo tidy by separating code and content, but requires rsync for content updates (see below). If you prefer, leave `.gitignore` unchanged and deploy everything with Git.

At this point you should be able to run the project in your local development environment already. We recommend developing the site locally and using fortrabbit for staging and production.

## Init Git and add GitHub

See the [git deployment intro](/1.platform/05.deployment/01.intro.md) to get an idea how to connect a local repo to the GitHub remote and enable automatic deployment by installing the [fortrabbit GitHub App](/1.platform/05.deployment/02.github-app.md) with GitHub account.

Here is an example creating a repo from your local code base and using git command line and [GitHub CLI](/4.integrations/07.git-clients/02.gh-cli.md) to set up a local repo, and connect it to GitHub.

```shell
# Setup local git repo
$ git init
$ git add -A
$ git commit -am 'Init'

# GitHub CLI to create/connect remote Git repo
$ gh repo new
# Follow the steps
# Push an existing local repository to github.com
# Add as remote and assign current branch as 'origin'
```

At the end, the Git repo at GitHub is created and content already pushed. From now on you only need to run add, commit and `git push` to send code changes to GitHub.

## Connect your GitHub repo with fortrabbit

Now, the last step is to set up and connect an app on fortrabbit. Start the process in the fortrabbit dashboard:

:BlockLink{title="Create a new (free trial) app" path="/new/app"}

Choose Kirby as software preset. Use Git deployment and select the Git repo that you have created previously. At the end of the process, start the first deployment and lean back. At this stage you have deployed a semi-broken Kirby installation. That's expected because the content is missing. See next step.

If you already created a new empty app at fortrabbit, connect the repo branch through dashboard settings.

### Deployment settings

:BlockLink{title="Deployment settings for {{app-env-id}}" path="/environments/{{app-env-id}}/deployment"}

You should be all set when choosing Kirby CMS as software with the app at fortrabbit. The [software template](/1.platform/03.concepts/05.software-templates.md) will be preconfigure deployment settings. The [replace deployment strategy](/1.platform/05.deployment/08.strategy.md) is set, with `content` and `media` folders to be excluded. Adjusting those settings is required when using [Composerkit](/2.guides/4.kirby/01.install.md#kirby-starter-kits).

## Synchronize contents with rsync

As mentioned, deployment of code (templates and configuration) and dependencies (Kirby and Composer) is done via Git deployment. Deploying the content is a separate step. We recommend using rsync to upload or download new contents to and from your remote fortrabbit environment. See also our [rsync article](/3.dev/20.how-to/rsync.md). In a terminal, from the Kirby project folder, run:

```shell
# SYNC UP: from local content folder and its files to remote
$ rsync -av ./content/ {{app-env-id}}@ssh.{{region}}.frbit.app:content/
```

It also works the other way around. For example, if you have done some edits online and want those changes to be reflected in your local development environment:

```bash
# SYNC DOWN: from files from remote content folder to local folder
$ rsync -av {{app-env-id}}@ssh.{{region}}.frbit.app:content/ ./content/
```

You can also use [SFTP](/1.platform/04.code-access/04.sftp.md) to synchronize the `content` folder.

## Going forward

From now on you can `git push` to trigger a [deployment](/1.platform/10.objects/11.deployment.md) to fortrabbit via GitHub.
