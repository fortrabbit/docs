---
reviewed: 2024-01-25 20:50:49
title: Using ENV vars on fortrabbit
naviTitle: Usage
navigation.excerpt: Using environment variables on fortrabbit
lead: Manage environment variables with the fortrabbit dashboard.
siblings: ENV vars
---

## ENV vars via software template

The fortrabbit [software templates](/11.concepts/software-templates.md) will help. While creating an app on fortrabbit, you'll choose your desired CMS or framework. This selection will configure the server ENV vars in ways, the software can work with it. For example, for Laravel and Craft, an ENV var like `DB_PASSWORD` will be populated with the password of the database.

So, most likely, your fortrabbit app environment will work out of the box. As a bonus you even reset the database password without touching any configurations.

## Adding and editing ENV vars on fortrabbit

You can add ENV vars of your App in the [dashboard](/11.concepts/dashboard.md) with the app environment.

:DashboardLink{title="Edit ENV vars for {{app-env-slug}}" path="/environments/{{app-env-slug}}/env-vars"}

The input supports the dotenv file format and allows you to create or update multiple variables at once. The changes will be distributed after you save the page. It may take around 60 seconds.

## ENV var types on fortrabbit

There are four different kinds of ENV vars here on fortrabbit which are available to your app environment at runtime.

### Custom ENV vars

Those are the ones you add yourself in the dashboard.

### Software template ENV vars

Depending on what you have selected in the [software template](/11.concepts/software-templates.md) when creating your App, additional ENV vars will be seeded for you. For example: When choosing Laravel the ENV var `APP_KEY` with a random long string will created (among others). You can replace or remove those stack ENV vars after creation the same way you can replace or remove your manually created ENV vars.

### System ENV vars

System ENV vars are automatically updated values that contain access details for services offered by fortrabbit. For example:

```apache
MY_MYSQL=${FORTRABBIT_MYSQL_PASSWORD}
# MY_SQL is your key
# ${FORTRABBIT_MYSQL_PASSWORD} is an alias for a value populated by fortrabbit
```

System ENV vars will not overwrite existing, manually created ENV vars. This means: if you manually create an ENV var, we guarantee that we won't replace it's value by a dynamically generated ENV var.

### Nested ENV vars

You can use simple, [nested variables](https://github.com/vlucas/phpdotenv#nesting-variables) in your custom ENV vars. Simple means, that you can set variables which reference other variables, which contain a value, for example:

```apache
# will work:
OTHER_VAR=something
MY_VAR=${OTHER_VAR}
```

Order matters. First define something before referencing.

<!-- TODO: Review if multiple levels work. -->

We do NOT support multiple levels of interpolation, which means that you cannot use variables, which reference other variables, which again reference other variables, for example:

```apache
# will not work:
MY_VAR=${OTHER_VAR}
OTHER_VAR=${ANOTHER_VAR}
ANOTHER_VAR=something
```

## ENV vars vs security

Storing credentials (passwords, secrets, ..) in environment variables is not without risk. They can be exposed, due to programming errors or oversights, for example when you forget to remove the `phpinfo()` from production.

## ENV var validation

<!-- Review! -->

Strict validation rules for ENV vars are in use in the dashboard while entering. Chars like the "$" sign can be harmful in Linux systems. Here is the regex we use to validate the ENV var input in the dashboard:

```raw
/^[\p{L}\p{N}\ _\-\+=\.,:;\?!@~%&\*\(\)\[\]\{\}<>\/\\#]+$/u
```

So sometimes, when you want to store an external API key as an ENV var, you might get a validation error like: "Variable value contains invalid characters". If you can not change the value of your ENV var, you can encode and decode those:

## Encode and decode ENV vars

Use a base64 encoded string and decode it when applying it to your configuration in your code. Encoding works like this:

```php
php -r "echo base64_encode('YOUR-M$Pa#A-VALUEx') . PHP_EOL;"
```

And [this example](https://github.com/laravel/ideas/issues/416#issuecomment-280436034) should give you an idea how you can do the decoding.

## Reserved environment variable names

There are some names you can not use here:

_, \_\_FRBIT\_\_, argc, argv, AUTH*TYPE, CHARSET, CONTEXT_DOCUMENT_ROOT, CONTEXT_PREFIX, DOCUMENT_ROOT,
FCGI_ROLE, FORTRABBIT*_, GATEWAY*INTERFACE, GROUP, HOME, HTTP*\_, HTTPS, LANG, LC\_\_, LOGNAME, MAIL,
MUSL_LOCPATH, OLDPWD, ORIG_PATH_INFO, PAGER, PATH, PATH_INFO, PATH_TRANSLATED, PHP_AUTH_DIGEST, PHP_AUTH_PW,
PHP_AUTH_USER, PHP_SELF, PS0, PS1, PS2, PS3, PS4, PWD, QUERY_STRING, REDIRECT_REMOTE_USER, REMOTE_ADDR,
REMOTE_HOST, REMOTE_PORT, REMOTE_USER, REQUEST_METHOD, REQUEST_SCHEME, REQUEST_TIME, REQUEST_TIME_FLOAT,
REQUEST_URI, SCRIPT_FILENAME, SCRIPT_NAME, SCRIPT_URI, SCRIPT_URL, SERVER_ADDR, SERVER_ADMIN, SERVER_NAME,
SERVER_PORT, SERVER_PROTOCOL, SERVER_SIGNATURE, SERVER_SOFTWARE, SHELL, SHLVL, SSH_CLIENT, SSH_CONNECTION,
SSH_TTY, TERM, USER
