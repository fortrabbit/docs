---
reviewed: 2024-11-25 09:47:39
title: Deployment intro
naviTitle: Intro
navigation.excerpt: Git push to deploy and some gotchas
lead: Code deployment is a multi-step process to deliver code from your local computer to a web server in a reliable and automated fashion.
siblings: Deployment
nextNav: true
links:
  - title: The deployment object
    route: /objects/deployment
    property: docs
head:
  meta:
    - name: 'keywords'
      content: 'grunt, gulp, browserify, vite, webpack, svn, git, coding, CI/CD, cloud, vcs, add-on, version control'
---

In regard of deployment, Git is not only used as a version control system, but also as a transport layer to copy over the latest code changes. A typical code deployment on fortrabbit consists of the following deployment pipeline:

```raw
1 Local   2 Git provider   3 fortrabbit       4 app environment
┌─────┐   ┌────────────┐   ┌──────────────┐   ┌──────────────┐
│ Git ├───▶  Git repo  ├───▶  Deployment  ├───▶   web space  │
└─────┘   └────────────┘   └──────────────┘   └──────────────┘
```

1. You work on your local Git repo
2. You push code changes to the git provider (GitHub), to trigger a deployment
3. The deployment service is runs at fortrabbit
4. The build is getting distributed into the web space of the [app environment](/1.platform/10.objects/2.app-environment.md)

## Code moves up, content moves down

Development is usually happening in the [local development environment](/3.dev/1.local-development.md). Code changes are pushed up.

- Code tracked with git: templates,plugins, themes, CSS, JS …
- Content not tracked: images, uploads, database …
- Runtime data not tracked: logs, sessions, vendor folder, temporary files …

Content updates whoever are often created in the production environment directly, for instance when an editor is adding a new blog post. In many software systems, code and content are separated and do not interfere. A classical PHP project consists of these blocks:

<!-- | What                          | Git deployment | Alternative |
| ----------------------------- | -------------: | ----------: |
| Code and dependencies         |            Yes |           - |
| Database contents             |             No |        dump |
| Image uploads and other files |             No |       rsync | -->

In addition to git deployment, [direct code access](/3.dev/7.code-access/1.intro.md) via [SSH](/3.dev/7.code-access/3.ssh.md) and [SFTP](/3.dev/7.code-access/4.sftp.md) is also available. This is useful to sync down contents.

## What the storage contains

The Git repo is not a one to one representation of the storage. After you Git push, first the Git repo will be updated, then changes will be synchronized (overwrite but not delete) to the storage. So the storage contains:

1. The latest Git changes synced in
2. Artifacts from build steps
3. Changes done by [direct code access](/3.dev/7.code-access/1.intro.md)
4. Runtime data like uploads, assets, logs, template fragments …

## Git only syncs up

**Git is a one way street here and the only way is up.** You can not `pull` the changes, which are made via SSH or SFTP, from the storage back into your Git repo. So you can not upload something via SFTP and clone it down later via Git. While this might looks odd at first: this design keeps your Git repo clean of temporary, binary and other blob data. The diagram above visualizes this. Use Git only for code deployment, not to manage all of your Apps runtime data. Separate code - managed in Git - from content - managed via SSH/SFTP.

## Not all applications work well with Git

Git deployment is great when the skeleton has clean folder structure with exclude patterns and [Composer](/3.dev/2.composer.md) support. [Laravel](/2.guides/2.laravel/1.setup.md) and [Symfony](/2.guides/5.more/8.symfony.md) are poster-child-level for good Git support. [WordPress](/2.guides/5.more/5.wordpress.md) and other CMS are not Git compatible, out-of-the-box. [Craft](/2.guides/3.craft/1.setup.md) works well with Git and Composer.
