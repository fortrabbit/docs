---
reviewed: 2025-07-02 13:01:45
title: MySQL database export & import
naviTitle: Export & import
navigation.excerpt: Downloading and uploading the database
lead: This is how to download and upload MySQL data between your local machine and fortrabbit.
siblings: MySQL
nextNav: true
---

<!-- TODO: Review by infra -->

## Get ready

Make sure to be able to access the remote fortrabbit database from your local development environment. See the [database access article](/3.dev/08.mysql/03.access-local.md).

MySQL doesn't support incremental updates, so you'll always export the complete database structure and contents. This involves creating a `dump.sql` file from the source database and importing it to the destination database. The process works in both directions:

- Export from local and import to fortrabbit (deployment)
- Export from fortrabbit and import to local (backup/sync)

During initial setup, you'll typically import your local database to fortrabbit at least once. Later, as content is added with the production environment, you may need to sync changes back to your local environment periodically.

## MySQL export local → fortrabbit via command line

Using `mysqldump` and `mysql` is the standard approach to migrate data between MySQL servers from the command line. The following example anticipate a local MySQL server, this can vary depending on your local development environment. For DDEV, you may need to login to the MySQL container first.

### 1: Export your local database

Run this command on your local machine:

```shell
# Export from your local machine
$ mysqldump --set-gtid-purged=OFF -u{{local-db-user}} -p {{local-db-name}} > dump.sql
```

You'll be prompted for your password when using `-p` without the password directly in the command. The `--set-gtid-purged=OFF` option prevents GTID-related permission errors during import. This is required when:

- Your source database has GTID enabled
- You're using MariaDB locally
- You encounter `#1227 - Access denied; you need SUPER privilege(s)` errors

### 2: Import to fortrabbit via SSH tunnel

You'll need two terminal windows: one for the SSH tunnel and another for the import. Run both commands from your local machine.

#### Terminal 1 - SSH Tunnel (keep this running)

```shell
ssh -N -L 13306:mysql:3306 {{app-env-id}}@ssh.{{region}}.frbit.app
```

#### Terminal 2 - Import Database

```shell
mysql -h127.0.0.1 -P13306 -u{{app-env-id}} -p {{app-env-id}} < dump.sql
```

You'll be prompted for your MySQL password (found in the dashboard). The `dump.sql` file is from the previous step.

## MySQL export fortrabbit → local via command line

To download your fortrabbit database to your local machine, reverse the process:

### Terminal 1 - SSH Tunnel

```shell
ssh -N -L 13306:mysql:3306 {{app-env-id}}@ssh.{{region}}.frbit.app
```

### Terminal 2 - Export Database

```shell
mysqldump --set-gtid-purged=OFF -h127.0.0.1 -P13306 -u{{app-env-id}} -p {{app-env-id}} > fortrabbit-backup.sql
```

Then import to your local database:

```shell
mysql -u{{local-db-user}} -p {{local-db-name}} < fortrabbit-backup.sql
```

## MySQL export import via MySQL GUI

These are general instructions initially written for Workbench, with some abstraction they will work with a different MySQL GUI like Sequel Ace, TablePlus alike.

**Export from local**:

1. Open your MySQL GUI
2. Setup your local database connection
3. Open your local database connection
4. Choose: Server > Data Export from the menu
5. Select your local database name
6. Make sure to "Dump Structure and Data" (select below the database name listing)
7. Choose a local destination file
8. Start the export

**Import to fortrabbit**:

1. Open your MySQL GUI
2. Create a new connection as [shown in the access guide](/3.dev/08.mysql/03.access-local.md#toc-mysql-workbench)
3. Open the newly created remote database connection
4. Choose: Server > Data Import from the menu
5. Choose your previously generated dump file
6. Start the import

Reverse the direction to download the fortrabbit database into your local development environment.

## MySQL LOAD DATA for large tables

For importing large single tables efficiently, use the `LOAD DATA` command. First, export your table data:

```shell
# on your local machine or on the old server
$ echo 'SELECT * FROM tablename;' | mysql database-name > tablename.sql

# import everything via a tunnel to yourfortrabbit MySQL database
$ mysql --local-infile=1 -h127.0.0.1 -P13306 -u{{app-env-id}} -p {{app-env-id}}

# on the mysql shell
$ mysql> LOAD DATA LOCAL INFILE '/path/to/tablename.sql' INTO TABLE tablename;
```

## Foreign key constraints

In some cases — like when importing MySQL backups — you might need to temporarily disable foreign key constraints before importing:

```sql
SET FOREIGN_KEY_CHECKS=0;
```

Run this query after connecting to the database but before starting the import. In GUI tools like Sequel Ace, use the query window. This setting automatically resets when you close the connection.

## Common issues

**Connection timeouts during large imports:**

- Split large dumps into smaller files
- Use `--single-transaction` flag for consistent snapshots

**Permission errors:**

- Ensure you're using correct MySQL credentials from the Dashboard
- Add `--set-gtid-purged=OFF` to the mysqldump command
- Check that you're running commands from your local machine, not via SSH

**Encoding issues:**

- Add `--default-character-set=utf8mb4` to both export and import commands
- Ensure your dump file is saved with UTF-8 encoding
